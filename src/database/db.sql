-- Criação da table principal.
-- É necessário especificar o datablase que está sendo utilizado para criar os scritps.
CREATE TABLE IF NOT EXISTS TAB_PACIENTES(
    codigoPaciente INT(4) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,
    CPF VARCHAR(11) NOT NULL,
    nome VARCHAR(90) NOT NULL,
    dataNascimento DATE,
    codigoColetaPaciente INT(4) UNSIGNED ZEROFILL, -- (CHAVE ESTRANGEIRA)
    PRIMARY KEY(codigoPaciente),

)

-- Criação da table principal.
CREATE TABLE IF NOT EXISTS TAB_COLETA_PACIENTE(
    codigoColetaPaciente INT(4) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,
    coletaAnos JSON NOT NULL, -- A ideia é armazenar assim: ["2022", "2024"], apenas os anos que houve coleta
    ultimaColeta DATE,
    proximaColeta DATE,
    PRIMARY KEY(codigoColetaPaciente)
)

-- Adicionar chave estrangeira à TAB_PACIENTES
ALTER TABLE TAB_PACIENTES ADD CONSTRAINT FK_codigoColetaPaciente FOREIGN KEY (codigoColetaPaciente) REFERENCES TAB_COLETA_PACIENTE(codigoColetaPaciente) ON DELETE CASCADE

INSERT INTO sys.TAB_COLETA_PACIENTE (codigoColetaPaciente, coletaAnos, ultimaColeta, proximaColeta) VALUES
(123177, '["2022", "2024"]', '2024-02-08', '2025-02-08'),
(123178, '["2022", "2024"]', '2021-11-22', '2022-11-22'),
(123179, '["2022"]', '2021-06-10', '2022-06-10'),
(123180, '["2022"]', '2022-05-11', '2023-05-11'),
(123181, '["2022"]', '2021-07-21', '2022-07-21'),
(123182, '["2022"]', '2022-01-04', '2023-01-04'),
(123183, '["2022"]', '2021-12-19', '2022-12-19'),
(123184, '["2022"]', '2021-12-04', '2022-12-04'),
(123185, '["2022"]', '2021-12-02', '2022-12-02'),
(123186, '["2022"]', '2021-08-19', '2022-08-19'),
(123187, '["2022"]', '2021-10-13', '2022-10-13'),
(123188, '["2022"]', '2021-08-11', '2022-08-11'),
(123189, '["2022"]', '2021-07-30', '2022-07-30'),
(123190, '["2022"]', '2021-07-20', '2022-07-20'),
(123191, '["2022"]', '2021-05-16', '2022-05-16'),
(123192, '["2022"]', '2021-04-16', '2022-04-16'),
(123193, '["2022"]', '2021-03-25', '2022-03-25'),
(123194, '["2022"]', '2021-02-22', '2022-02-22'),
(123195, '["2022"]', '2021-02-19', '2022-02-19'),
(123196, '["2022"]', '2021-02-14', '2022-02-14'),
(123197, '["2022"]', '2021-01-19', '2022-01-19'),
(123198, '["2022"]', '2021-01-14', '2022-01-14'),
(123199, '["2022"]', '2020-07-04', '2021-07-04'),
(123200, '["2022"]', '2020-10-05', '2021-10-05'),
(123201, '["2022"]', '2020-05-22', '2021-05-22'),
(123202, '["2022"]', '2020-02-14', '2021-02-14'),
(123203, '["2022"]', '2020-02-05', '2021-02-05'),
(123204, '["2022"]', '2020-02-01', '2021-02-01'),
(123205, '["2022"]', '2020-01-13', '2021-01-13'),
(123206, '["2022"]', '2020-01-10', '2021-01-10'),
(123207, '["2022"]', '2020-01-05', '2021-01-05'),
(123208, '["2022"]', '2020-01-04', '2021-01-04'),
(123209, '["2022"]', '2020-01-01', '2021-01-01'),
(123210, '["2022"]', '2019-10-13', '2020-10-13'),
(123211, '["2022"]', '2019-11-13', '2020-11-13'),
(123212, '["2022"]', '2019-09-10', '2020-09-10'),
(123213, '["2022"]', '2019-07-22', '2020-07-22'),
(123214, '["2022"]', '2019-07-04', '2020-07-04'),
(123215, '["2022"]', '2019-05-22', '2020-05-22'),
(123216, '["2022"]', '2019-02-14', '2020-02-14'),
(123217, '["2022"]', '2019-02-05', '2020-02-05'),
(123218, '["2022"]', '2019-02-01', '2020-02-01'),
(123219, '["2022"]', '2019-01-13', '2020-01-13'),
(123220, '["2022"]', '2019-01-10', '2020-01-10'),
(123221, '["2022"]', '2019-01-05', '2020-01-05'),
(123222, '["2022"]', '2019-01-04', '2020-01-04'),
(123223, '["2022"]', '2019-01-01', '2020-01-01');


-- Inserir dados na tabela TAB_PACIENTES
INSERT INTO sys.TAB_PACIENTES (codigoPaciente, CPF, nome, dataNascimento, codigoColetaPaciente) VALUES
(123202, '424.209.578-30', 'Juliana Freitas', '1900-12-26', 123177),
(123203, '455.951.548-45', 'Irina Cardoso', '1959-04-17', 123178),
(123204, '429.587.728-02', 'Hanna Moreira', '1959-03-30', 123179),
(123205, '446.650.148-33', 'Gabriela Nascimento', '1962-12-03', 123180),
(123206, '396.882.448-21', 'Fabíola Lopes', '1962-09-13', 123181),
(123207, '388.368.388-47', 'Yasmim Farias', '1961-01-29', 123182),
(123208, '356.626.988-30', 'Alice Machado', '1960-12-16', 123183),
(123209, '381.651.838-93', 'Xuxa Vieira', '1981-11-05', 123184),
(123210, '217.913.558-03', 'Renata Santos', '1977-04-26', 123185),
(123211, '134.572.898-08', 'Quitéria Barbosa', '1977-12-25', 123186),
(123212, '186.448.478-05', 'Paula Melo', '1978-08-19', 123187),
(123213, '373.075.538-21', 'Olinda Teixeira', '1978-11-26', 123188),
(123214, '361.350.698-02', 'Nadine Rocha', '1978-03-05', 123189),
(123215, '162.075.378-23', 'Mirella Castro', '1979-09-17', 123190),
(123216, '186.528.778-40', 'Joana Lima', '1993-01-24', 123191),
(123217, '150.768.898-95', 'Kátia Ribeiro', '1990-03-20', 123192),
(123219, '479.278.278-39', 'Isis Pereira', '1994-07-26', 123194),
(123220, '410.878.638-64', 'Glória Dias', '1995-12-24', 123195),
(123221, '224.338.678-00', 'Helena Souza', '1996-01-19', 123196),
(123222, '300.604.678-19', 'Flávia Costa', '1996-03-25', 123197),
(123223, '226.099.458-09', 'Ester Fernandes', '1998-11-21', 123198),
(123224, '162.212.788-99', 'Bianca Gomes', '1961-08-18', 123199),
(123225, '172.247.508-08', 'Cecília Martins', '1964-03-12', 123200),
(123226, '113.883.348-79', 'Wanda Barros', '1965-12-13', 123201),
(123227, '145.430.988-11', 'Valéria Matos', '1963-02-19', 123202),
(123228, '039.687.688-92', 'Tatiana Campos', '1966-04-03', 123203),
(123229, '163.939.368-43', 'Sandra Silva', '1967-08-15', 123204),
(123230, '073.203.078-12', 'Rebeca Macedo', '1969-12-05', 123205),
(123231, '284.724.018-71', 'Priscila Batista', '1969-04-28', 123206),
(123232, '162.212.798-60', 'Olívia Santiago', '1972-08-25', 123207),
(123233, '251.258.368-69', 'Nicole Sampaio', '1970-10-11', 123208),
(123234, '172.244.568-88', 'Kelly Freitas', '1974-03-06', 123209),
(123235, '141.174.618-00', 'Ingrid Moreira', '1974-09-22', 123210),
(123236, '347.084.978-14', 'Heloísa Nascimento', '1977-07-28', 123211),
(123237, '073.203.078-12', 'Eduarda Carvalho', '1977-10-17', 123212),
(123238, '307.715.628-88', 'Giovana Lopes', '1977-11-15', 123213),
(123239, '163.939.368-43', 'Vanessa Nogueira', '1978-07-26', 123214),
(123240, '226.099.458-09', 'Zilda Farias', '1980-02-06', 123215),
(123241, '216.872.308-70', 'Úrsula Mendes', '1980-05-11', 123216),
(123242, '331.337.628-26', 'Talita Gomes', '1981-06-10', 123217),
(123243, '275.107.188-05', 'Queila Barbosa', '1980-08-12', 123218),
(123244, '311.746.338-08', 'Olívia Teixeira', '1981-03-21', 123219),
(123245, '264.985.398-01', 'Mariana Castro', '1981-11-27', 123220),
(123246, '284.984.808-50', 'Carolina Silva', '1983-07-07', 123221),
(123247, '280.026.728-36', 'Beatriz Oliveira', '1983-10-12', 123222),
(123248, '253.881.358-10', 'Ana Clara Souza', '1984-02-11', 123223),
(123249, '284.724.018-71', 'Yasmin Dias', '1980-01-01', 123224);



