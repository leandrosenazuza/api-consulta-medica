-- Criação da table principal.
-- É necessário especificar o datablase que está sendo utilizado para criar os scritps.
CREATE TABLE IF NOT EXISTS TAB_PACIENTES(
    codigoPaciente INT(4) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,
    CPF VARCHAR(11) NOT NULL,
    nome VARCHAR(90) NOT NULL,
    dataNascimento DATE,
    codigoColetaPaciente INT(4) UNSIGNED ZEROFILL, -- (CHAVE ESTRANGEIRA)
    PRIMARY KEY(codigoPaciente),

)

-- Criação da table principal.
CREATE TABLE IF NOT EXISTS TAB_COLETA_PACIENTE(
    codigoColetaPaciente INT(4) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,
    coletaAnos JSON NOT NULL, -- A ideia é armazenar assim: ["2022", "2024"], apenas os anos que houve coleta
    ultimaColeta DATE,
    proximaColeta DATE,
    PRIMARY KEY(codigoColetaPaciente)
)

-- Adicionar chave estrangeira à TAB_PACIENTES
ALTER TABLE TAB_PACIENTES ADD CONSTRAINT FK_codigoColetaPaciente FOREIGN KEY (codigoColetaPaciente) REFERENCES TAB_COLETA_PACIENTE(codigoColetaPaciente) ON DELETE CASCADE


-- Inserir dados na tabela TAB_COLETA_PACIENTE
INSERT INTO TAB_COLETA_PACIENTE (coletaAnos, ultimaColeta, proximaColeta) VALUES
    ('["2022", "2024"]', '2024-02-08', '2025-02-08'), -- MARGARETE TOSTA
    ('["2022", "2024"]', '2021-11-22', '2022-11-22'), -- DULCE HELENA NOGUEIRA
    ('["2022"]', '2021-06-10', '2022-06-10'),          -- MARIA DAS MERCES PULQUERIO DE OLIVEIRA
    ('["2022"]', '2022-05-11', '2023-05-11'),          -- MARISTELA BONATO DA SILVA
    ('["2022"]', '2021-07-21', '2022-07-21'),          -- VILMA APARECIDA NASCIMENTO MORETO
    ('["2022"]', '2022-01-04', '2023-01-04'),          -- MARCELA PIZZA PROSPERO
    ('["2022"]', '2021-12-19', '2022-12-19'),          -- IEDA SEVIERI BISO
    ('["2022"]', '2021-12-04', '2022-12-04'),          -- ROBERTA FAVARIM FERREIRA
    ('["2022"]', '2021-12-02', '2022-12-02'),          -- MARIA CRISTINA GRATAO FERRACINE
    ('["2022"]', '2021-08-19', '2022-08-19'),          -- JULIANA LANZELOTI CORREA LEITE
    ('["2022"]', '2021-10-13', '2022-10-13'),          -- APARECIDA DE LOURDES LEMBI FERREIRA
    ('["2022"]', '2021-08-11', '2022-08-11'),          -- ADRIANA PAULA MACHADO MELO DO NASCIMENTO
    ('["2022"]', '2021-07-30', '2022-07-30'),          -- CARMEM HELENA PAULINO
    ('["2022"]', '2021-07-20', '2022-07-20'),          -- GRACIELE FERREIRA DE OLIVEIRA
    ('["2022"]', '2021-05-16', '2022-05-16'),          -- MARIA DEL CARMEN MEDINA MACHICA
    ('["2022"]', '2021-04-16', '2022-04-16'),          -- DANIELA APARECIDA DUARTE GOMIERO
    ('["2022"]', '2021-03-25', '2022-03-25'),          -- DIRCE APARECIDA TERTULIANO TOGNON
    ('["2022"]', '2021-02-22', '2022-02-22'),          -- ERMINDA APARECIDA TORLINI RODRIGUES DE LIMA
    ('["2022"]', '2021-02-19', '2022-02-19'),          -- MARIA CRISTINA FERREIRA SCANDOLARI
    ('["2022"]', '2021-02-14', '2022-02-14'),          -- APARECIDA NEVES MANIEZO
    ('["2022"]', '2021-01-19', '2022-01-19'),          -- CLEIDIMAR ROCHA MARTINS
    ('["2022"]', '2021-01-14', '2022-01-14'),          -- MARCELINA PIZZA PROSPERO
    ('["2022"]', '2020-07-04', '2021-07-04'),          -- IVANILDA FERREIRA DA SILVA
    ('["2022"]', '2020-10-05', '2021-10-05'),          -- MARIA ROSEMARY SCARELI DE OLIVEIRA
    ('["2022"]', '2020-05-22', '2021-05-22'),          -- ELENICE FERREIRA DE OLIVEIRA
    ('["2022"]', '2020-02-14', '2021-02-14'),          -- BENEDITA DO CARMO BARBIM CAMILO DE OLIVEIRA
    ('["2022"]', '2020-02-05', '2021-02-05'),          -- MARIA CRISTINA GODOY
    ('["2022"]', '2020-02-01', '2021-02-01'),          -- MARIA CRISTINA GODOY
    ('["2022"]', '2020-01-13', '2021-01-13'),          -- SONIA APARECIDA GODOY
    ('["2022"]', '2020-01-10', '2021-01-10'),          -- GLORIA DE JESUS VIANNA
    ('["2022"]', '2020-01-05', '2021-01-05'),          -- ANA MARIA ALVES MOREIRA TRINQUE
    ('["2022"]', '2020-01-04', '2021-01-04'),          -- MARIA CRISTINA FERREIRA
    ('["2022"]', '2020-01-01', '2021-01-01'),          -- JULIANA LANZELOTI CORREA LEITE
    ('["2022"]', '2019-10-13', '2020-10-13'),          -- MARIA DAS MERCES PULQUERIO DE OLIVEIRA
    ('["2022"]', '2019-11-13', '2020-11-13'),          -- MARIA MARTA RIBEIRO MENDONCA
    ('["2022"]', '2019-09-10', '2020-09-10'),          -- SUELY MARIA ROSA RIZZATO
    ('["2022"]', '2019-07-22', '2020-07-22'),          -- ADRIANA PAULA MACHADO MELO DO NASCIMENTO
    ('["2022"]', '2019-07-04', '2020-07-04'),          -- IVANILDA FERREIRA DA SILVA
    ('["2022"]', '2019-05-22', '2020-05-22'),          -- ELENICE FERREIRA DE OLIVEIRA
    ('["2022"]', '2019-02-14', '2020-02-14'),          -- BENEDITA DO CARMO BARBIM CAMILO DE OLIVEIRA
    ('["2022"]', '2019-02-05', '2020-02-05'),          -- MARIA CRISTINA GODOY
    ('["2022"]', '2019-02-01', '2020-02-01'),          -- MARIA CRISTINA GODOY
    ('["2022"]', '2019-01-13', '2020-01-13'),          -- SONIA APARECIDA GODOY
    ('["2022"]', '2019-01-10', '2020-01-10'),          -- GLORIA DE JESUS VIANNA
    ('["2022"]', '2019-01-05', '2020-01-05'),          -- ANA MARIA ALVES MOREIRA TRINQUE
    ('["2022"]', '2019-01-04', '2020-01-04'),          -- MARIA CRISTINA FERREIRA
    ('["2022"]', '2019-01-01', '2020-01-01');          -- JULIANA LANZELOTI CORREA LEITE

-- Inserir dados na tabela TAB_PACIENTES
INSERT INTO TAB_PACIENTES (CPF, nome, dataNascimento, codigoColetaPaciente) VALUES
    ('284.724.018-71', 'CREIDEMAR COSTA DE ARAUJO', '1958-12-26', 1),
    ('162.212.798-60', 'VILMA APARECIDA NASCIMENTO MORETO', '1959-04-17', 2),
    ('141.174.618-00', 'MARIA DAS MERCES PULQUERIO DE OLIVEIRA', '1959-03-30', 3),
    ('039.687.688-92', 'MARISTELA BONATO DA SILVA', '1962-12-03', 4),
    ('090.900.868-03', 'MARIA CRISTINA GODOY', '1962-09-13', 5),
    ('073.203.078-12', 'ERMINDA APARECIDA TORLINI RODRIGUES DE LIMA', '1961-01-29', 6),
    ('347.084.978-14', 'SUELY MARIA ROSA RIZZATO', '1960-12-16', 7),
    ('224.338.678-00', 'ADRIANA PAULA MENEZES DE MELO NASCIMENTO', '1981-11-05', 8),
    ('284.984.808-50', 'FERNANDA APARECIDA BARBOSA ROSSINI', '1977-04-26', 9),
    ('264.985.398-01', 'ROBERTA FAVARIM FERREIRA', '1977-12-25', 10),
    ('311.746.338-08', 'LUCIANA APARECIDA DOS SANTOS', '1978-08-19', 11),
    ('275.107.188-05', 'TAISLA EMILIA BAIOCCO', '1978-11-26', 12),
    ('331.337.628-26', 'MARCIA MARIA LUIZ', '1978-03-05', 13),
    ('216.872.308-70', 'ALINE FRANCISMARA CORREA LEONI', '1979-09-17', 14),
    ('418.300.578-71', 'MARCELA DE PAIVA BALAM', '1993-01-24', 15),
    ('215.829.548-10', 'GRACIELE FERREIRA DE OLIVEIRA', '1990-03-20', 16),
    ('410.878.638-64', 'ANELISA BONATO DA SILVA', '1994-01-04', 17),
    ('344.808.888-96', 'IEDA SEVIERI BISO', '1994-07-26', 18),
    ('444.086.868-16', 'ANA CAROLINA TEIXEIRA DE SOUZA', '1995-12-24', 19),
    ('436.859.178-03', 'ARIANE BONATO DA SILVA', '1996-01-19', 20),
    ('436.243.648-04', 'BIANCA CARLA BORGHESI', '1996-03-25', 21),
    ('479.278.278-39', 'MARIA RITA PEREIRA', '1998-11-21', 22);


